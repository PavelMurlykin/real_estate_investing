{% extends "base.html" %}

{% block title %}
   Информация по объекту
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Объект недвижимости</h2>
        <div>
            <a href="{% url 'property:property_update' property.pk %}" class="btn btn-secondary">
                <i class="bi bi-pencil"></i> Редактировать
            </a>
            <a href="{% url 'property:property_list' %}" class="btn btn-outline-primary">
                <i class="bi bi-arrow-left"></i> Назад к списку
            </a>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h4>Основная информация</h4>
                    <table class="table table-borderless">
                        <tr>
                            <th width="40%">Застройщик:</th>
                            <td>{{ property.developer }}</td>
                        </tr>
                        <tr>
                            <th>Город:</th>
                            <td>{{ property.get_city_display }}</td>
                        </tr>
                        <tr>
                            <th>Название ЖК:</th>
                            <td>{{ property.complex_name }}</td>
                        </tr>
                        <tr>
                            <th>Класс ЖК:</th>
                            <td>{{ property.get_complex_class_display }}</td>
                        </tr>
                        <tr>
                            <th>Корпус:</th>
                            <td>{{ property.building }}</td>
                        </tr>
                        <tr>
                            <th>Квартира:</th>
                            <td>{{ property.apartment_number }}</td>
                        </tr>
                    </table>
                </div>
                <div class="col-md-6">
                    <h4>Характеристики</h4>
                    <table class="table table-borderless">
                        <tr>
                            <th width="40%">Планировка:</th>
                            <td>{{ property.layout }}</td>
                        </tr>
                        <tr>
                            <th>Площадь:</th>
                            <td>{{ property.area }} м²</td>
                        </tr>
                        <tr>
                            <th>Этаж:</th>
                            <td>{{ property.floor }}</td>
                        </tr>
                        <tr>
                            <th>Стоимость:</th>
                            <td>{{ property.formatted_cost }} руб.</td>
                        </tr>
                        <tr>
                            <th>Дата создания:</th>
                            <td>{{ property.created_at|date:"d.m.Y H:i" }}</td>
                        </tr>
                        <tr>
                            <th>Последнее обновление:</th>
                            <td>{{ property.updated_at|date:"d.m.Y H:i" }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-3 d-flex justify-content-between">
        <a href="{% url 'property:property_delete' property.pk %}" class="btn btn-outline-danger">
            <i class="bi bi-trash"></i> Удалить объект
        </a>
        <a href="{% url 'mortgage:mortgage_calculator' %}?property_id={{ property.pk }}&property_cost={{ property.property_cost|stringformat:'f' }}" class="btn btn-primary">
            <i class="bi bi-calculator"></i> Рассчитать ипотеку
        </a>
    </div>
</div>
{% endblock %}